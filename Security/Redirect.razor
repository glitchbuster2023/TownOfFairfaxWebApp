@inject IJSRuntime _jsRuntime
@inject NavigationManager _navManager

@code {
    protected override void OnInitialized()
    {
        _navManager.LocationChanged += (o, e) =>
        {
            UpdateCredentials();
        };
    }

    protected async override void OnAfterRender(bool firstRender)
    {
        await UpdateCredentials();
    }

    protected async Task UpdateCredentials() {
        var authModule = await _jsRuntime.InvokeAsync<IJSObjectReference>("import", "./js/auth.js");
        await authModule.InvokeVoidAsync("RefreshAccess");
    }

}